<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nalvenix Innovations (TradeOS)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/react-router-dom@6/dist/umd/react-router-dom.production.min.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #0a0e1a;
      min-height: 100vh;
      color: #ffffff;
    }
    
    /* Professional Tech Background */
    .tech-bg {
      background-image: url('tech-bg.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }
    
    .hero-bg {
      background-image: url('hero-bg.jpg');
      background-size: cover;
      background-position: center;
    }
    
    /* Glass Effect */
    .glass-panel {
      background: rgba(10, 14, 26, 0.85);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(0, 212, 255, 0.15);
    }
    
    .glass-card {
      background: rgba(20, 28, 48, 0.7);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(0, 212, 255, 0.1);
      border-radius: 16px;
    }
    
    /* Professional Colors */
    .text-primary { color: #ffffff; }
    .text-secondary { color: #a0aec0; }
    .text-accent { color: #00d4ff; }
    .text-success { color: #00e676; }
    .text-danger { color: #ff5252; }
    .text-warning { color: #ffd740; }
    
    /* Gradients */
    .gradient-primary {
      background: linear-gradient(135deg, #00d4ff 0%, #7c3aed 100%);
    }
    
    .gradient-text {
      background: linear-gradient(135deg, #00d4ff 0%, #7c3aed 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    /* Animations */
    @keyframes spin { to { transform: rotate(360deg); } }
    .animate-spin { animation: spin 1s linear infinite; }
    
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
    
    @keyframes glow {
      0%, 100% { box-shadow: 0 0 20px rgba(0, 212, 255, 0.3); }
      50% { box-shadow: 0 0 40px rgba(0, 212, 255, 0.6); }
    }
    .animate-glow { animation: glow 2s ease-in-out infinite; }
    
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-slide-in { animation: slideIn 0.4s ease-out forwards; }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
    
    /* Scrollbar */
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: rgba(10, 14, 26, 0.5); }
    ::-webkit-scrollbar-thumb { background: rgba(0, 212, 255, 0.3); border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: rgba(0, 212, 255, 0.5); }
    
    /* Font */
    .font-mono { font-family: 'JetBrains Mono', monospace; }
    
    /* Button Hover Effects */
    .btn-primary {
      background: linear-gradient(135deg, #00d4ff 0%, #7c3aed 100%);
      transition: all 0.3s ease;
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(0, 212, 255, 0.4);
    }
    
    /* Input Focus */
    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #00d4ff;
      box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.2);
    }
    
    /* Card Hover */
    .card-hover {
      transition: all 0.3s ease;
    }
    .card-hover:hover {
      transform: translateY(-4px);
      border-color: rgba(0, 212, 255, 0.3);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }
    
    /* Navigation Active */
    .nav-active {
      background: linear-gradient(135deg, rgba(0, 212, 255, 0.2) 0%, rgba(124, 58, 237, 0.2) 100%);
      border: 1px solid rgba(0, 212, 255, 0.4);
      color: #00d4ff;
    }
    
    /* Status Indicators */
    .status-online {
      background: #00e676;
      box-shadow: 0 0 10px #00e676;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect, createContext, useContext } = React;
    const { BrowserRouter, Routes, Route, NavLink, Navigate, useNavigate } = ReactRouterDOM;

    // API Configuration
    const API_URL = window.location.hostname === 'localhost' ? 'http://localhost:8000' : 'https://api.nalvenix.com';
    
    // Auth Context
    const AuthContext = createContext(null);
    
    const AuthProvider = ({ children }) => {
      const [isAuthenticated, setIsAuthenticated] = useState(() => {
        return localStorage.getItem('nalvenix-token') !== null;
      });
      const [user, setUser] = useState(() => {
        const saved = localStorage.getItem('nalvenix-user');
        return saved ? JSON.parse(saved) : null;
      });
      const [token, setToken] = useState(localStorage.getItem('nalvenix-token'));

      const login = (newToken, newUser) => {
        localStorage.setItem('nalvenix-token', newToken);
        localStorage.setItem('nalvenix-user', JSON.stringify(newUser));
        setToken(newToken);
        setUser(newUser);
        setIsAuthenticated(true);
      };

      const logout = () => {
        localStorage.removeItem('nalvenix-token');
        localStorage.removeItem('nalvenix-user');
        setToken(null);
        setUser(null);
        setIsAuthenticated(false);
      };

      const api = axios.create({
        baseURL: API_URL,
        headers: { 'Content-Type': 'application/json' }
      });

      api.interceptors.request.use((config) => {
        if (token) config.headers.Authorization = `Bearer ${token}`;
        return config;
      });

      api.interceptors.response.use(
        (response) => response,
        (error) => {
          if (error.response?.status === 401) logout();
          return Promise.reject(error);
        }
      );

      return (
        <AuthContext.Provider value={{ isAuthenticated, user, token, login, logout, api }}>
          {children}
        </AuthContext.Provider>
      );
    };

    const useAuth = () => useContext(AuthContext);

    // Icons Component
    const Icon = ({ name, className = "w-6 h-6" }) => {
      const icons = {
        zap: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
        dashboard: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="3" width="7" height="7" rx="2"/><rect x="14" y="3" width="7" height="7" rx="2"/><rect x="14" y="14" width="7" height="7" rx="2"/><rect x="3" y="14" width="7" height="7" rx="2"/></svg>,
        trending: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>,
        cpu: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="4" y="4" width="16" height="16" rx="2"/><rect x="9" y="9" width="6" height="6" rx="1"/><path d="M15 2v2 M15 20v2 M2 15h2 M2 9h2 M20 15h2 M20 9h2 M9 2v2 M9 20v2"/></svg>,
        chart: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-3"/></svg>,
        shield: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>,
        pie: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"/><path d="M22 12A10 10 0 0 0 12 2v10z"/></svg>,
        credit: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="1" y="4" width="22" height="16" rx="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>,
        settings: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>,
        logout: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>,
        bell: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>,
        search: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>,
        wallet: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4"/><path d="M4 6v12a2 2 0 0 0 2 2h14v-4"/><path d="M18 12a2 2 0 0 0-2 2c0 1.1.9 2 2 2h4v-4h-4z"/></svg>,
        activity: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>,
        target: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>,
        bitcoin: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.941.694M17.8 9.27l-1.563 8.864"/></svg>,
        globe: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>,
        gem: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M6 3h12l4 6-10 13L2 9z"/><path d="M11 3 8 9l4 13 4-13-3-6"/><path d="M2 9h20"/></svg>,
        plus: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>,
        x: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
        play: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>,
        pause: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="6" y="4" width="4" height="16" rx="1"/><rect x="14" y="4" width="4" height="16" rx="1"/></svg>,
        trash: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>,
        arrowUp: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="7" y1="17" x2="17" y2="7"/><polyline points="7 7 17 7 17 17"/></svg>,
        arrowDown: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="7" y1="7" x2="17" y2="17"/><polyline points="17 7 17 17 7 17"/></svg>,
        calendar: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>,
        alert: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>,
        dollar: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>,
        percent: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="19" y1="5" x2="5" y2="19"/><circle cx="6.5" cy="6.5" r="2.5"/><circle cx="17.5" cy="17.5" r="2.5"/></svg>,
        save: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>,
        check: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="20 6 9 17 4 12"/></svg>,
        crown: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M2 4l3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"/></svg>,
        building: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M6 22V10l6-6 6 6v12"/><path d="M6 12h12"/><path d="M10 22v-6h4v6"/></svg>,
        download: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>,
        user: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>,
        lock: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>,
        mail: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>,
        phone: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="5" y="2" width="14" height="20" rx="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>,
        moon: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>,
        loader: <svg className={className + " animate-spin"} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="2" x2="12" y2="6"/><line x1="12" y1="18" x2="12" y2="22"/><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"/><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"/><line x1="2" y1="12" x2="6" y2="12"/><line x1="18" y1="12" x2="22" y2="12"/><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"/><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"/></svg>,
        eye: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>,
        eyeOff: <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>,
      };
      return icons[name] || null;
    };

    // Login Component
    const Login = () => {
      const { login } = useAuth();
      const [isLogin, setIsLogin] = useState(true);
      const [email, setEmail] = useState('');
      const [password, setPassword] = useState('');
      const [fullName, setFullName] = useState('');
      const [loading, setLoading] = useState(false);
      const [error, setError] = useState('');
      const [showPassword, setShowPassword] = useState(false);

      const handleSubmit = async (e) => {
        e.preventDefault();
        setLoading(true);
        setError('');

        try {
          if (isLogin) {
            // Demo login for Reginald Kargbo
            if (email === 'reginald@nalvenix.com' && password === 'password') {
              login('demo-token-12345', {
                id: '1',
                email: 'reginald@nalvenix.com',
                full_name: 'Reginald Kargbo',
                is_premium: true
              });
              return;
            }
            const response = await axios.post(`${API_URL}/api/auth/login`, { email, password });
            login(response.data.access_token, response.data.user);
          } else {
            const response = await axios.post(`${API_URL}/api/auth/register`, { email, password, full_name: fullName });
            login(response.data.access_token, response.data.user);
          }
        } catch (err) {
          setError(err.response?.data?.detail || 'Authentication failed. Please try again.');
        } finally {
          setLoading(false);
        }
      };

      return (
        <div className="hero-bg min-h-screen flex items-center justify-center p-4" style={{ backgroundColor: '#0a0e1a' }}>
          <div className="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-[#0a0e1a]"></div>
          <div className="relative w-full max-w-md animate-fade-in">
            {/* Logo */}
            <div className="text-center mb-8">
              <div className="inline-flex items-center justify-center w-20 h-20 rounded-2xl btn-primary mb-6 animate-glow">
                <Icon name="zap" className="w-10 h-10 text-white" />
              </div>
              <h1 className="text-4xl font-bold text-white mb-2">Nalvenix Innovations</h1>
              <p className="text-lg text-secondary">TradeOS - Algorithmic Trading Platform</p>
            </div>

            {/* Form Card */}
            <div className="glass-card p-8">
              <h2 className="text-2xl font-bold text-white mb-2 text-center">
                {isLogin ? 'Welcome Back' : 'Create Account'}
              </h2>
              <p className="text-secondary text-center mb-6">
                {isLogin ? 'Sign in to access your trading dashboard' : 'Start your trading journey today'}
              </p>

              {error && (
                <div className="mb-4 p-4 rounded-lg bg-red-500/20 border border-red-500/50 text-red-400 text-sm flex items-center gap-2">
                  <Icon name="alert" className="w-5 h-5" />
                  {error}
                </div>
              )}

              <form onSubmit={handleSubmit} className="space-y-4">
                {!isLogin && (
                  <div>
                    <label className="block text-sm font-medium text-white mb-2">Full Name</label>
                    <input
                      type="text"
                      value={fullName}
                      onChange={(e) => setFullName(e.target.value)}
                      className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white placeholder-[#4a5568] focus:border-[#00d4ff] transition-colors"
                      placeholder="Enter your full name"
                      required
                    />
                  </div>
                )}

                <div>
                  <label className="block text-sm font-medium text-white mb-2">Email Address</label>
                  <input
                    type="email"
                    value={email}
                    onChange={(e) => setEmail(e.target.value)}
                    className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white placeholder-[#4a5568] focus:border-[#00d4ff] transition-colors"
                    placeholder="Enter your email"
                    required
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-white mb-2">Password</label>
                  <div className="relative">
                    <input
                      type={showPassword ? "text" : "password"}
                      value={password}
                      onChange={(e) => setPassword(e.target.value)}
                      className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white placeholder-[#4a5568] focus:border-[#00d4ff] transition-colors pr-12"
                      placeholder="Enter your password"
                      required
                    />
                    <button
                      type="button"
                      onClick={() => setShowPassword(!showPassword)}
                      className="absolute right-4 top-1/2 -translate-y-1/2 text-[#4a5568] hover:text-white transition-colors"
                    >
                      <Icon name={showPassword ? "eyeOff" : "eye"} className="w-5 h-5" />
                    </button>
                  </div>
                </div>

                <button
                  type="submit"
                  disabled={loading}
                  className="w-full btn-primary text-white font-semibold py-4 rounded-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  {loading && <Icon name="loader" className="w-5 h-5" />}
                  {isLogin ? 'Sign In' : 'Create Account'}
                </button>
              </form>

              <div className="mt-6 text-center">
                <button
                  onClick={() => { setIsLogin(!isLogin); setError(''); }}
                  className="text-[#00d4ff] hover:text-white transition-colors text-sm"
                >
                  {isLogin ? "Don't have an account? " : 'Already have an account? '}
                  <span className="font-semibold">{isLogin ? 'Sign up' : 'Sign in'}</span>
                </button>
              </div>

              {isLogin && (
                <div className="mt-6 p-4 rounded-xl bg-[#00d4ff]/10 border border-[#00d4ff]/30">
                  <p className="text-sm text-[#00d4ff] text-center">
                    <strong className="text-white">Demo Account:</strong><br />
                    <span className="font-mono">reginald@nalvenix.com</span><br />
                    <span className="font-mono">password</span>
                  </p>
                </div>
              )}
            </div>

            <p className="text-center text-[#4a5568] text-sm mt-6">
              Â© 2024 Nalvenix Innovations. All rights reserved.
            </p>
          </div>
        </div>
      );
    };

    // Sidebar Component
    const Sidebar = () => {
      const { logout, user } = useAuth();
      
      const navItems = [
        { path: '/', icon: 'dashboard', label: 'Dashboard' },
        { path: '/trading', icon: 'trending', label: 'Trading' },
        { path: '/strategies', icon: 'cpu', label: 'Strategies' },
        { path: '/backtest', icon: 'chart', label: 'Backtest' },
        { path: '/risk', icon: 'shield', label: 'Risk' },
        { path: '/analytics', icon: 'pie', label: 'Analytics' },
        { path: '/billing', icon: 'credit', label: 'Billing' },
        { path: '/settings', icon: 'settings', label: 'Settings' },
      ];

      return (
        <aside className="w-72 glass-panel flex flex-col h-screen fixed left-0 top-0 z-50">
          {/* Logo */}
          <div className="p-6 border-b border-[#2d3748]">
            <div className="flex items-center gap-4">
              <div className="w-12 h-12 rounded-xl btn-primary flex items-center justify-center animate-glow">
                <Icon name="zap" className="w-6 h-6 text-white" />
              </div>
              <div>
                <h1 className="text-xl font-bold text-white">Nalvenix</h1>
                <p className="text-xs text-[#00d4ff] font-mono">TradeOS</p>
              </div>
            </div>
          </div>

          {/* Navigation */}
          <nav className="flex-1 p-4 space-y-1 overflow-y-auto">
            {navItems.map((item) => (
              <NavLink
                key={item.path}
                to={item.path}
                className={({ isActive }) =>
                  `flex items-center gap-4 px-4 py-3.5 rounded-xl transition-all duration-200 ${
                    isActive
                      ? 'nav-active'
                      : 'text-[#a0aec0] hover:text-white hover:bg-white/5'
                  }`
                }
              >
                <Icon name={item.icon} className="w-5 h-5" />
                <span className="font-medium">{item.label}</span>
              </NavLink>
            ))}
          </nav>

          {/* User & Logout */}
          <div className="p-4 border-t border-[#2d3748]">
            <div className="flex items-center gap-3 px-4 py-3 mb-3 rounded-xl bg-white/5">
              <div className="w-10 h-10 rounded-full btn-primary flex items-center justify-center">
                <span className="text-sm font-bold text-white">
                  {user?.full_name?.split(' ').map(n => n[0]).join('') || 'RK'}
                </span>
              </div>
              <div className="flex-1 min-w-0">
                <p className="text-sm font-semibold text-white truncate">{user?.full_name}</p>
                <p className="text-xs text-[#a0aec0] truncate">{user?.email}</p>
              </div>
            </div>
            <button
              onClick={logout}
              className="w-full flex items-center gap-4 px-4 py-3.5 rounded-xl text-[#ff5252] hover:bg-[#ff5252]/10 transition-all"
            >
              <Icon name="logout" className="w-5 h-5" />
              <span className="font-medium">Logout</span>
            </button>
          </div>
        </aside>
      );
    };

    // Header Component
    const Header = () => {
      const { user } = useAuth();

      return (
        <header className="h-20 glass-panel border-b border-[#2d3748] flex items-center justify-between px-8 ml-72">
          <div className="flex items-center gap-4">
            <div className="relative">
              <Icon name="search" className="w-5 h-5 absolute left-4 top-1/2 -translate-y-1/2 text-[#4a5568]" />
              <input
                type="text"
                placeholder="Search markets, strategies..."
                className="w-80 bg-[#1a2035] border border-[#2d3748] rounded-xl pl-12 pr-4 py-3 text-white placeholder-[#4a5568] focus:border-[#00d4ff] transition-colors"
              />
            </div>
          </div>

          <div className="flex items-center gap-6">
            <button className="relative p-3 text-[#a0aec0] hover:text-white transition-colors rounded-xl hover:bg-white/5">
              <Icon name="bell" className="w-6 h-6" />
              <span className="absolute top-2 right-2 w-2.5 h-2.5 status-online rounded-full"></span>
            </button>
            
            <div className="flex items-center gap-4">
              <div className="text-right">
                <p className="text-sm font-semibold text-white">{user?.full_name}</p>
                <p className="text-xs text-[#00d4ff]">Enterprise Plan</p>
              </div>
              <div className="w-12 h-12 rounded-full btn-primary flex items-center justify-center">
                <span className="text-lg font-bold text-white">
                  {user?.full_name?.split(' ').map(n => n[0]).join('') || 'RK'}
                </span>
              </div>
            </div>
          </div>
        </header>
      );
    };

    // Layout Component
    const Layout = ({ children }) => (
      <div className="tech-bg min-h-screen" style={{ backgroundColor: '#0a0e1a' }}>
        <Sidebar />
        <div className="ml-72">
          <Header />
          <main className="p-8 min-h-[calc(100vh-80px)]">
            {children}
          </main>
        </div>
      </div>
    );

    // StatCard Component
    const StatCard = ({ title, value, change, prefix = '', suffix = '', icon }) => {
      const isPositive = change && change >= 0;
      
      return (
        <div className="glass-card p-6 card-hover">
          <div className="flex items-start justify-between">
            <div>
              <p className="text-sm text-[#a0aec0] mb-2">{title}</p>
              <p className="text-3xl font-bold text-white font-mono">
                {prefix}{value}{suffix}
              </p>
              {change !== undefined && (
                <div className={`flex items-center gap-1.5 mt-3 ${isPositive ? 'text-[#00e676]' : 'text-[#ff5252]'}`}>
                  <Icon name={isPositive ? "arrowUp" : "arrowDown"} className="w-4 h-4" />
                  <span className="text-sm font-semibold">{isPositive ? '+' : ''}{change.toFixed(2)}%</span>
                </div>
              )}
            </div>
            <div className="w-14 h-14 rounded-xl bg-gradient-to-br from-[#00d4ff]/20 to-[#7c3aed]/20 flex items-center justify-center">
              <Icon name={icon} className="w-7 h-7 text-[#00d4ff]" />
            </div>
          </div>
        </div>
      );
    };

    // Dashboard Page
    const Dashboard = () => {
      const { api } = useAuth();
      const [data, setData] = useState(null);
      const [loading, setLoading] = useState(true);

      useEffect(() => {
        // Simulate data loading
        setTimeout(() => {
          setData({
            portfolio: { total_equity: 125000.50, buying_power: 85000.00, day_pnl: 2450.75, day_pnl_percent: 2.0 },
            stats: { open_positions: 3, active_strategies: 1, today_trades: 5, win_rate: 62.5 },
            market_overview: {
              crypto: [
                { symbol: 'BTC-USD', price: 67250.50, change_24h: 2.35, volume: 28500000000 },
                { symbol: 'ETH-USD', price: 3450.25, change_24h: 1.87, volume: 15200000000 },
                { symbol: 'SOL-USD', price: 145.75, change_24h: 5.42, volume: 3200000000 },
              ],
              forex: [
                { symbol: 'EUR/USD', price: 1.0845, change_24h: 0.12, volume: 125000000 },
                { symbol: 'GBP/USD', price: 1.2675, change_24h: -0.08, volume: 85000000 },
                { symbol: 'USD/JPY', price: 149.25, change_24h: 0.35, volume: 95000000 },
              ],
              commodities: [
                { symbol: 'XAU/USD', price: 2035.50, change_24h: 0.45, volume: 25000000 },
                { symbol: 'XAG/USD', price: 22.85, change_24h: -0.25, volume: 15000000 },
                { symbol: 'WTI/USD', price: 78.45, change_24h: 1.25, volume: 35000000 },
              ],
              indices: [
                { symbol: 'SPX500', price: 5085.25, change_24h: 0.55, volume: 45000000 },
                { symbol: 'NAS100', price: 17985.50, change_24h: 0.85, volume: 38000000 },
                { symbol: 'DJ30', price: 39125.75, change_24h: 0.32, volume: 28000000 },
              ]
            }
          });
          setLoading(false);
        }, 500);
      }, []);

      if (loading) {
        return (
          <div className="flex items-center justify-center h-96">
            <div className="animate-spin w-12 h-12 border-4 border-[#00d4ff] border-t-transparent rounded-full"></div>
          </div>
        );
      }

      const portfolio = data?.portfolio;

      return (
        <div className="space-y-8 animate-slide-in">
          {/* Page Header */}
          <div className="flex items-center justify-between">
            <div>
              <h1 className="text-3xl font-bold text-white mb-1">Dashboard</h1>
              <p className="text-[#a0aec0]">Welcome back to your trading dashboard</p>
            </div>
            <div className="flex items-center gap-3 px-4 py-2 rounded-xl bg-[#00e676]/10 border border-[#00e676]/30">
              <span className="w-2.5 h-2.5 status-online rounded-full"></span>
              <span className="text-sm text-[#00e676] font-medium">Live Market Data</span>
            </div>
          </div>

          {/* Stats Grid */}
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <StatCard title="Total Equity" value={portfolio?.total_equity?.toLocaleString('en-US', { minimumFractionDigits: 2 })} prefix="$" change={2.35} icon="wallet" />
            <StatCard title="Day P&L" value={portfolio?.day_pnl?.toLocaleString('en-US', { minimumFractionDigits: 2 })} prefix="$" change={portfolio?.day_pnl_percent} icon="trending" />
            <StatCard title="Buying Power" value={portfolio?.buying_power?.toLocaleString('en-US', { minimumFractionDigits: 2 })} prefix="$" icon="activity" />
            <StatCard title="Win Rate" value={data?.stats?.win_rate?.toString()} suffix="%" change={5.2} icon="target" />
          </div>

          {/* Chart Section */}
          <div className="glass-card p-8">
            <div className="flex items-center justify-between mb-6">
              <div>
                <h2 className="text-xl font-bold text-white">Portfolio Performance</h2>
                <p className="text-sm text-[#a0aec0]">Real-time price action</p>
              </div>
              <span className="px-4 py-2 rounded-xl bg-[#00d4ff]/20 text-[#00d4ff] text-sm font-semibold font-mono">BTC-USD</span>
            </div>
            <div className="h-80 flex items-center justify-center bg-[#1a2035]/50 rounded-xl border border-[#2d3748]">
              <div className="text-center">
                <Icon name="chart" className="w-16 h-16 text-[#00d4ff]/30 mx-auto mb-4" />
                <p className="text-[#4a5568]">Interactive chart will load here</p>
                <p className="text-sm text-[#00d4ff] mt-2">Connect to backend for live data</p>
              </div>
            </div>
          </div>

          {/* Market Overview */}
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <MarketTable title="Crypto Markets" icon="bitcoin" data={data?.market_overview?.crypto || []} />
            <MarketTable title="Forex Markets" icon="globe" data={data?.market_overview?.forex || []} />
          </div>

          <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <MarketTable title="Commodities" icon="gem" data={data?.market_overview?.commodities || []} />
            <MarketTable title="Indices" icon="chart" data={data?.market_overview?.indices || []} />
          </div>

          {/* Quick Stats */}
          <div className="glass-card p-8">
            <h3 className="text-xl font-bold text-white mb-6">Trading Activity</h3>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div className="text-center p-6 rounded-xl bg-[#1a2035] border border-[#2d3748]">
                <p className="text-4xl font-bold text-[#00d4ff] font-mono">{data?.stats?.open_positions}</p>
                <p className="text-sm text-[#a0aec0] mt-2">Open Positions</p>
              </div>
              <div className="text-center p-6 rounded-xl bg-[#1a2035] border border-[#2d3748]">
                <p className="text-4xl font-bold text-[#7c3aed] font-mono">{data?.stats?.active_strategies}</p>
                <p className="text-sm text-[#a0aec0] mt-2">Active Strategies</p>
              </div>
              <div className="text-center p-6 rounded-xl bg-[#1a2035] border border-[#2d3748]">
                <p className="text-4xl font-bold text-[#00e676] font-mono">{data?.stats?.today_trades}</p>
                <p className="text-sm text-[#a0aec0] mt-2">Today's Trades</p>
              </div>
            </div>
          </div>
        </div>
      );
    };

    // MarketTable Component
    const MarketTable = ({ title, icon, data }) => {
      const formatPrice = (price) => price?.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) || '0.00';
      const formatVolume = (volume) => {
        if (!volume) return '$0';
        if (volume >= 1e9) return `$${(volume / 1e9).toFixed(2)}B`;
        if (volume >= 1e6) return `$${(volume / 1e6).toFixed(2)}M`;
        return `$${(volume / 1e3).toFixed(2)}K`;
      };

      return (
        <div className="glass-card overflow-hidden">
          <div className="px-6 py-4 border-b border-[#2d3748] flex items-center gap-3">
            <Icon name={icon} className="w-5 h-5 text-[#00d4ff]" />
            <h3 className="text-lg font-bold text-white">{title}</h3>
          </div>
          <div className="overflow-x-auto">
            <table className="w-full">
              <thead>
                <tr className="text-left text-xs text-[#a0aec0] border-b border-[#2d3748]">
                  <th className="px-6 py-4 font-semibold uppercase tracking-wider">Symbol</th>
                  <th className="px-6 py-4 font-semibold uppercase tracking-wider text-right">Price</th>
                  <th className="px-6 py-4 font-semibold uppercase tracking-wider text-right">24h Change</th>
                  <th className="px-6 py-4 font-semibold uppercase tracking-wider text-right">Volume</th>
                </tr>
              </thead>
              <tbody>
                {(data || []).map((item, index) => {
                  const isPositive = item.change_24h >= 0;
                  return (
                    <tr key={index} className="border-b border-[#2d3748] last:border-0 hover:bg-white/5 transition-colors">
                      <td className="px-6 py-4 font-mono font-semibold text-white">{item.symbol}</td>
                      <td className="px-6 py-4 text-right font-mono text-white">${formatPrice(item.price)}</td>
                      <td className="px-6 py-4 text-right">
                        <div className={`flex items-center justify-end gap-1.5 ${isPositive ? 'text-[#00e676]' : 'text-[#ff5252]'}`}>
                          <Icon name={isPositive ? "arrowUp" : "arrowDown"} className="w-4 h-4" />
                          <span className="font-mono font-semibold">{isPositive ? '+' : ''}{item.change_24h?.toFixed(2)}%</span>
                        </div>
                      </td>
                      <td className="px-6 py-4 text-right font-mono text-[#a0aec0]">{formatVolume(item.volume)}</td>
                    </tr>
                  );
                })}
              </tbody>
            </table>
          </div>
        </div>
      );
    };

    // Trading Page
    const Trading = () => {
      const { api } = useAuth();
      const [trades, setTrades] = useState([
        { id: '1', symbol: 'BTC-USD', side: 'buy', quantity: 0.5, entry_price: 67250, status: 'open' },
        { id: '2', symbol: 'ETH-USD', side: 'buy', quantity: 5, entry_price: 3450, status: 'open' },
        { id: '3', symbol: 'SOL-USD', side: 'buy', quantity: 100, entry_price: 145.5, status: 'open' },
        { id: '4', symbol: 'AAPL', side: 'buy', quantity: 50, entry_price: 185.25, exit_price: 192.5, pnl: 362.5, status: 'closed' },
        { id: '5', symbol: 'TSLA', side: 'sell', quantity: 25, entry_price: 245, exit_price: 238.5, pnl: 162.5, status: 'closed' },
      ]);
      const [showModal, setShowModal] = useState(false);
      const [formData, setFormData] = useState({ symbol: 'BTC-USD', side: 'buy', quantity: 0.1 });
      const SYMBOLS = ['BTC-USD', 'ETH-USD', 'SOL-USD', 'ADA-USD', 'EUR/USD', 'GBP/USD', 'XAU/USD', 'SPX500'];

      const handleCreateTrade = (e) => {
        e.preventDefault();
        const newTrade = {
          id: Date.now().toString(),
          ...formData,
          entry_price: Math.random() * 50000 + 10000,
          status: 'open'
        };
        setTrades([newTrade, ...trades]);
        setShowModal(false);
      };

      const handleCloseTrade = (tradeId) => {
        setTrades(trades.map(t => t.id === tradeId ? { ...t, status: 'closed', exit_price: t.entry_price * 1.02, pnl: t.entry_price * 0.02 * t.quantity } : t));
      };

      const openTrades = trades.filter(t => t.status === 'open');
      const closedTrades = trades.filter(t => t.status === 'closed');

      return (
        <div className="space-y-8 animate-slide-in">
          <div className="flex items-center justify-between">
            <div>
              <h1 className="text-3xl font-bold text-white mb-1">Trading</h1>
              <p className="text-[#a0aec0]">Manage your positions and execute trades</p>
            </div>
            <button onClick={() => setShowModal(true)} className="flex items-center gap-2 px-6 py-3 btn-primary text-white rounded-xl font-semibold">
              <Icon name="plus" className="w-5 h-5" />
              New Trade
            </button>
          </div>

          {/* Chart */}
          <div className="glass-card p-8">
            <div className="flex items-center justify-between mb-6">
              <h2 className="text-xl font-bold text-white">Price Chart</h2>
              <select className="bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-2 text-white">
                {SYMBOLS.map(s => <option key={s} value={s}>{s}</option>)}
              </select>
            </div>
            <div className="h-72 flex items-center justify-center bg-[#1a2035]/50 rounded-xl border border-[#2d3748]">
              <div className="text-center">
                <Icon name="chart" className="w-16 h-16 text-[#00d4ff]/30 mx-auto mb-4" />
                <p className="text-[#4a5568]">Live price chart</p>
              </div>
            </div>
          </div>

          {/* Open Positions */}
          <div className="glass-card overflow-hidden">
            <div className="px-6 py-4 border-b border-[#2d3748]">
              <h3 className="text-xl font-bold text-white flex items-center gap-3">
                <Icon name="trending" className="w-6 h-6 text-[#00e676]" />
                Open Positions ({openTrades.length})
              </h3>
            </div>
            <div className="overflow-x-auto">
              <table className="w-full">
                <thead>
                  <tr className="text-left text-xs text-[#a0aec0] border-b border-[#2d3748]">
                    <th className="px-6 py-4 font-semibold uppercase">Symbol</th>
                    <th className="px-6 py-4 font-semibold uppercase">Side</th>
                    <th className="px-6 py-4 font-semibold uppercase text-right">Quantity</th>
                    <th className="px-6 py-4 font-semibold uppercase text-right">Entry Price</th>
                    <th className="px-6 py-4 font-semibold uppercase text-center">Action</th>
                  </tr>
                </thead>
                <tbody>
                  {openTrades.length === 0 ? (
                    <tr><td colSpan={5} className="px-6 py-12 text-center text-[#a0aec0]">No open positions</td></tr>
                  ) : openTrades.map((trade) => (
                    <tr key={trade.id} className="border-b border-[#2d3748] hover:bg-white/5">
                      <td className="px-6 py-4 font-mono font-semibold text-white">{trade.symbol}</td>
                      <td className="px-6 py-4">
                        <span className={`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold ${trade.side === 'buy' ? 'bg-[#00e676]/20 text-[#00e676]' : 'bg-[#ff5252]/20 text-[#ff5252]'}`}>
                          <Icon name={trade.side === 'buy' ? "arrowUp" : "arrowDown"} className="w-3 h-3" />
                          {trade.side.toUpperCase()}
                        </span>
                      </td>
                      <td className="px-6 py-4 text-right font-mono text-white">{trade.quantity}</td>
                      <td className="px-6 py-4 text-right font-mono text-white">${trade.entry_price?.toFixed(2)}</td>
                      <td className="px-6 py-4 text-center">
                        <button onClick={() => handleCloseTrade(trade.id)} className="px-4 py-2 bg-[#ff5252]/20 text-[#ff5252] rounded-lg text-sm font-semibold hover:bg-[#ff5252]/30 transition-colors">Close</button>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>

          {/* Trade History */}
          <div className="glass-card overflow-hidden">
            <div className="px-6 py-4 border-b border-[#2d3748]">
              <h3 className="text-xl font-bold text-white flex items-center gap-3">
                <Icon name="chart" className="w-6 h-6 text-[#a0aec0]" />
                Trade History ({closedTrades.length})
              </h3>
            </div>
            <div className="overflow-x-auto">
              <table className="w-full">
                <thead>
                  <tr className="text-left text-xs text-[#a0aec0] border-b border-[#2d3748]">
                    <th className="px-6 py-4 font-semibold uppercase">Symbol</th>
                    <th className="px-6 py-4 font-semibold uppercase">Side</th>
                    <th className="px-6 py-4 font-semibold uppercase text-right">P&L</th>
                  </tr>
                </thead>
                <tbody>
                  {closedTrades.length === 0 ? (
                    <tr><td colSpan={3} className="px-6 py-12 text-center text-[#a0aec0]">No closed trades</td></tr>
                  ) : closedTrades.map((trade) => (
                    <tr key={trade.id} className="border-b border-[#2d3748] hover:bg-white/5">
                      <td className="px-6 py-4 font-mono font-semibold text-white">{trade.symbol}</td>
                      <td className="px-6 py-4">
                        <span className={`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold ${trade.side === 'buy' ? 'bg-[#00e676]/20 text-[#00e676]' : 'bg-[#ff5252]/20 text-[#ff5252]'}`}>
                          {trade.side.toUpperCase()}
                        </span>
                      </td>
                      <td className="px-6 py-4 text-right font-mono">
                        <span className={(trade.pnl || 0) >= 0 ? 'text-[#00e676]' : 'text-[#ff5252]'}>
                          {(trade.pnl || 0) >= 0 ? '+' : ''}${trade.pnl?.toFixed(2)}
                        </span>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>

          {/* New Trade Modal */}
          {showModal && (
            <div className="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50">
              <div className="glass-card p-8 w-full max-w-md animate-slide-in">
                <div className="flex items-center justify-between mb-6">
                  <h3 className="text-2xl font-bold text-white">New Trade</h3>
                  <button onClick={() => setShowModal(false)} className="text-[#a0aec0] hover:text-white"><Icon name="x" className="w-6 h-6" /></button>
                </div>
                <form onSubmit={handleCreateTrade} className="space-y-5">
                  <div>
                    <label className="block text-sm font-medium text-white mb-2">Symbol</label>
                    <select value={formData.symbol} onChange={(e) => setFormData({ ...formData, symbol: e.target.value })} className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white">
                      {SYMBOLS.map(s => <option key={s} value={s}>{s}</option>)}
                    </select>
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-white mb-2">Side</label>
                    <div className="flex gap-3">
                      <button type="button" onClick={() => setFormData({ ...formData, side: 'buy' })} className={`flex-1 py-4 rounded-xl font-bold transition-all ${formData.side === 'buy' ? 'bg-[#00e676] text-white' : 'bg-[#1a2035] text-[#a0aec0]'}`}>BUY</button>
                      <button type="button" onClick={() => setFormData({ ...formData, side: 'sell' })} className={`flex-1 py-4 rounded-xl font-bold transition-all ${formData.side === 'sell' ? 'bg-[#ff5252] text-white' : 'bg-[#1a2035] text-[#a0aec0]'}`}>SELL</button>
                    </div>
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-white mb-2">Quantity</label>
                    <input type="number" step="0.01" value={formData.quantity} onChange={(e) => setFormData({ ...formData, quantity: parseFloat(e.target.value) })} className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white" />
                  </div>
                  <button type="submit" className="w-full btn-primary text-white font-bold py-4 rounded-xl">Execute Trade</button>
                </form>
              </div>
            </div>
          )}
        </div>
      );
    };

    // Strategies Page
    const Strategies = () => {
      const [strategies, setStrategies] = useState([
        { id: '1', name: 'Momentum Alpha', type: 'trend_following', is_active: true, performance: 15.7 },
        { id: '2', name: 'Mean Reversion Pro', type: 'mean_reversion', is_active: false, performance: 12.3 },
        { id: '3', name: 'Volatility Harvest', type: 'volatility', is_active: false, performance: 8.9 },
        { id: '4', name: 'Arbitrage Scanner', type: 'arbitrage', is_active: false, performance: 22.1 },
      ]);
      const [showModal, setShowModal] = useState(false);
      const [formData, setFormData] = useState({ name: '', type: 'trend_following' });

      const handleToggle = (id) => {
        setStrategies(strategies.map(s => s.id === id ? { ...s, is_active: !s.is_active } : s));
      };

      const handleDelete = (id) => {
        if (!confirm('Delete this strategy?')) return;
        setStrategies(strategies.filter(s => s.id !== id));
      };

      const handleCreate = (e) => {
        e.preventDefault();
        setStrategies([...strategies, { id: Date.now().toString(), ...formData, is_active: false, performance: 0 }]);
        setShowModal(false);
        setFormData({ name: '', type: 'trend_following' });
      };

      const getTypeLabel = (type) => type.replace('_', ' ').replace(/\b\w/g, l => l.toUpperCase());

      return (
        <div className="space-y-8 animate-slide-in">
          <div className="flex items-center justify-between">
            <div>
              <h1 className="text-3xl font-bold text-white mb-1">Strategies</h1>
              <p className="text-[#a0aec0]">Manage your algorithmic trading strategies</p>
            </div>
            <button onClick={() => setShowModal(true)} className="flex items-center gap-2 px-6 py-3 btn-primary text-white rounded-xl font-semibold">
              <Icon name="plus" className="w-5 h-5" />
              New Strategy
            </button>
          </div>

          {/* Stats */}
          <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div className="glass-card p-6">
              <p className="text-sm text-[#a0aec0] mb-2">Total Strategies</p>
              <p className="text-4xl font-bold text-white font-mono">{strategies.length}</p>
            </div>
            <div className="glass-card p-6">
              <p className="text-sm text-[#a0aec0] mb-2">Active</p>
              <p className="text-4xl font-bold text-[#00e676] font-mono">{strategies.filter(s => s.is_active).length}</p>
            </div>
            <div className="glass-card p-6">
              <p className="text-sm text-[#a0aec0] mb-2">Avg Performance</p>
              <p className="text-4xl font-bold text-[#00d4ff] font-mono">{(strategies.reduce((acc, s) => acc + s.performance, 0) / (strategies.length || 1)).toFixed(1)}%</p>
            </div>
          </div>

          {/* Strategies Grid */}
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {strategies.map((strategy) => (
              <div key={strategy.id} className="glass-card p-6 card-hover">
                <div className="flex items-start justify-between mb-5">
                  <div className="w-14 h-14 rounded-xl bg-gradient-to-br from-[#00d4ff]/20 to-[#7c3aed]/20 flex items-center justify-center">
                    <Icon name="cpu" className="w-7 h-7 text-[#00d4ff]" />
                  </div>
                  <div className="flex items-center gap-2">
                    <button onClick={() => handleToggle(strategy.id)} className={`p-2.5 rounded-lg transition-colors ${strategy.is_active ? 'bg-[#00e676]/20 text-[#00e676]' : 'bg-[#1a2035] text-[#a0aec0]'}`}>
                      <Icon name={strategy.is_active ? "pause" : "play"} className="w-5 h-5" />
                    </button>
                    <button onClick={() => handleDelete(strategy.id)} className="p-2.5 rounded-lg bg-[#ff5252]/20 text-[#ff5252] hover:bg-[#ff5252]/30">
                      <Icon name="trash" className="w-5 h-5" />
                    </button>
                  </div>
                </div>
                <h3 className="text-xl font-bold text-white mb-1">{strategy.name}</h3>
                <p className="text-sm text-[#a0aec0] capitalize mb-5">{getTypeLabel(strategy.type)}</p>
                <div className="flex items-center justify-between">
                  <div>
                    <p className="text-xs text-[#a0aec0] mb-1">Performance</p>
                    <p className={`text-2xl font-bold font-mono ${strategy.performance >= 0 ? 'text-[#00e676]' : 'text-[#ff5252]'}`}>
                      {strategy.performance >= 0 ? '+' : ''}{strategy.performance.toFixed(1)}%
                    </p>
                  </div>
                  <span className={`px-3 py-1.5 rounded-lg text-sm font-semibold ${strategy.is_active ? 'bg-[#00e676]/20 text-[#00e676]' : 'bg-[#1a2035] text-[#a0aec0]'}`}>
                    {strategy.is_active ? 'Running' : 'Paused'}
                  </span>
                </div>
              </div>
            ))}
          </div>

          {/* New Strategy Modal */}
          {showModal && (
            <div className="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50">
              <div className="glass-card p-8 w-full max-w-md animate-slide-in">
                <div className="flex items-center justify-between mb-6">
                  <h3 className="text-2xl font-bold text-white">Create Strategy</h3>
                  <button onClick={() => setShowModal(false)} className="text-[#a0aec0] hover:text-white"><Icon name="x" className="w-6 h-6" /></button>
                </div>
                <form onSubmit={handleCreate} className="space-y-5">
                  <div>
                    <label className="block text-sm font-medium text-white mb-2">Strategy Name</label>
                    <input type="text" value={formData.name} onChange={(e) => setFormData({ ...formData, name: e.target.value })} placeholder="e.g., Momentum Alpha" className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white placeholder-[#4a5568]" required />
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-white mb-2">Strategy Type</label>
                    <select value={formData.type} onChange={(e) => setFormData({ ...formData, type: e.target.value })} className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white">
                      <option value="trend_following">Trend Following</option>
                      <option value="mean_reversion">Mean Reversion</option>
                      <option value="arbitrage">Arbitrage</option>
                      <option value="momentum">Momentum</option>
                      <option value="volatility">Volatility</option>
                    </select>
                  </div>
                  <button type="submit" className="w-full btn-primary text-white font-bold py-4 rounded-xl">Create Strategy</button>
                </form>
              </div>
            </div>
          )}
        </div>
      );
    };

    // Backtest Page
    const Backtest = () => {
      const [running, setRunning] = useState(false);
      const [completed, setCompleted] = useState(false);

      const runBacktest = async () => {
        setRunning(true);
        setCompleted(false);
        await new Promise(r => setTimeout(r, 3000));
        setRunning(false);
        setCompleted(true);
      };

      return (
        <div className="space-y-8 animate-slide-in">
          <div>
            <h1 className="text-3xl font-bold text-white mb-1">Backtest</h1>
            <p className="text-[#a0aec0]">Test your strategies against historical data</p>
          </div>

          <div className="glass-card p-8">
            <h2 className="text-xl font-bold text-white mb-6 flex items-center gap-3">
              <Icon name="settings" className="w-6 h-6 text-[#00d4ff]" />
              Configuration
            </h2>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div>
                <label className="block text-sm font-medium text-white mb-2">Symbol</label>
                <select className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white">
                  <option>BTC-USD</option>
                  <option>ETH-USD</option>
                  <option>SOL-USD</option>
                </select>
              </div>
              <div>
                <label className="block text-sm font-medium text-white mb-2">Strategy</label>
                <select className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white">
                  <option>Momentum</option>
                  <option>Mean Reversion</option>
                  <option>Trend Following</option>
                </select>
              </div>
              <div>
                <label className="block text-sm font-medium text-white mb-2">Timeframe</label>
                <select className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white">
                  <option>1h</option>
                  <option>4h</option>
                  <option>1d</option>
                </select>
              </div>
            </div>
            <button onClick={runBacktest} disabled={running} className="mt-8 flex items-center gap-3 px-8 py-4 btn-primary text-white rounded-xl font-bold disabled:opacity-50">
              {running && <Icon name="loader" className="w-5 h-5" />}
              <Icon name={running ? "loader" : "play"} className="w-5 h-5" />
              {running ? 'Running Backtest...' : 'Run Backtest'}
            </button>
          </div>

          {completed && (
            <div className="space-y-6 animate-slide-in">
              <h2 className="text-xl font-bold text-white flex items-center gap-3">
                <Icon name="check" className="w-6 h-6 text-[#00e676]" />
                Backtest Results
              </h2>
              <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                <div className="glass-card p-5 text-center">
                  <Icon name="trending" className="w-6 h-6 text-[#00e676] mx-auto mb-3" />
                  <p className="text-2xl font-bold text-[#00e676] font-mono">+45.8%</p>
                  <p className="text-xs text-[#a0aec0] mt-1">Total Return</p>
                </div>
                <div className="glass-card p-5 text-center">
                  <Icon name="activity" className="w-6 h-6 text-[#00d4ff] mx-auto mb-3" />
                  <p className="text-2xl font-bold text-[#00d4ff] font-mono">1.85</p>
                  <p className="text-xs text-[#a0aec0] mt-1">Sharpe Ratio</p>
                </div>
                <div className="glass-card p-5 text-center">
                  <Icon name="arrowDown" className="w-6 h-6 text-[#ff5252] mx-auto mb-3" />
                  <p className="text-2xl font-bold text-[#ff5252] font-mono">-12.5%</p>
                  <p className="text-xs text-[#a0aec0] mt-1">Max Drawdown</p>
                </div>
                <div className="glass-card p-5 text-center">
                  <Icon name="target" className="w-6 h-6 text-[#7c3aed] mx-auto mb-3" />
                  <p className="text-2xl font-bold text-[#7c3aed] font-mono">62.5%</p>
                  <p className="text-xs text-[#a0aec0] mt-1">Win Rate</p>
                </div>
                <div className="glass-card p-5 text-center">
                  <Icon name="chart" className="w-6 h-6 text-[#ffd740] mx-auto mb-3" />
                  <p className="text-2xl font-bold text-[#ffd740] font-mono">156</p>
                  <p className="text-xs text-[#a0aec0] mt-1">Total Trades</p>
                </div>
                <div className="glass-card p-5 text-center">
                  <Icon name="trending" className="w-6 h-6 text-[#00d4ff] mx-auto mb-3" />
                  <p className="text-2xl font-bold text-[#00d4ff] font-mono">1.75</p>
                  <p className="text-xs text-[#a0aec0] mt-1">Profit Factor</p>
                </div>
              </div>
            </div>
          )}
        </div>
      );
    };

    // Risk Page
    const Risk = () => {
      const [settings, setSettings] = useState({ max_position_size: 25000, max_daily_loss: 5000, var_limit: 0.02, kill_switch_enabled: true });
      const [saved, setSaved] = useState(false);

      const handleSave = () => {
        setSaved(true);
        setTimeout(() => setSaved(false), 3000);
      };

      return (
        <div className="space-y-8 animate-slide-in">
          <div>
            <h1 className="text-3xl font-bold text-white mb-1">Risk Management</h1>
            <p className="text-[#a0aec0]">Configure your risk parameters and limits</p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
            <div className="glass-card p-6">
              <div className="flex items-center gap-4">
                <div className="w-12 h-12 rounded-xl bg-[#00e676]/20 flex items-center justify-center">
                  <Icon name="shield" className="w-6 h-6 text-[#00e676]" />
                </div>
                <div>
                  <p className="text-sm text-[#a0aec0]">Risk Level</p>
                  <p className="text-xl font-bold text-[#00e676]">Low</p>
                </div>
              </div>
            </div>
            <div className="glass-card p-6">
              <div className="flex items-center gap-4">
                <div className="w-12 h-12 rounded-xl bg-[#00d4ff]/20 flex items-center justify-center">
                  <Icon name="activity" className="w-6 h-6 text-[#00d4ff]" />
                </div>
                <div>
                  <p className="text-sm text-[#a0aec0]">Current VaR</p>
                  <p className="text-xl font-bold text-[#00d4ff] font-mono">1.85%</p>
                </div>
              </div>
            </div>
            <div className="glass-card p-6">
              <div className="flex items-center gap-4">
                <div className="w-12 h-12 rounded-xl bg-[#7c3aed]/20 flex items-center justify-center">
                  <Icon name="arrowDown" className="w-6 h-6 text-[#7c3aed]" />
                </div>
                <div>
                  <p className="text-sm text-[#a0aec0]">Max Drawdown</p>
                  <p className="text-xl font-bold text-[#7c3aed] font-mono">-8.5%</p>
                </div>
              </div>
            </div>
            <div className="glass-card p-6">
              <div className="flex items-center gap-4">
                <div className="w-12 h-12 rounded-xl bg-[#ffd740]/20 flex items-center justify-center">
                  <Icon name="alert" className="w-6 h-6 text-[#ffd740]" />
                </div>
                <div>
                  <p className="text-sm text-[#a0aec0]">Alerts</p>
                  <p className="text-xl font-bold text-[#ffd740]">0 Active</p>
                </div>
              </div>
            </div>
          </div>

          <div className="glass-card p-8">
            <h2 className="text-xl font-bold text-white mb-8 flex items-center gap-3">
              <Icon name="shield" className="w-6 h-6 text-[#00d4ff]" />
              Risk Parameters
            </h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
              <div>
                <label className="block text-sm font-medium text-white mb-3 flex items-center gap-2">
                  <Icon name="dollar" className="w-4 h-4 text-[#00d4ff]" />
                  Max Position Size
                </label>
                <input type="number" value={settings.max_position_size} onChange={(e) => setSettings({ ...settings, max_position_size: parseFloat(e.target.value) })} className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white font-mono" />
                <p className="text-xs text-[#a0aec0] mt-2">Maximum capital allocated per position</p>
              </div>
              <div>
                <label className="block text-sm font-medium text-white mb-3 flex items-center gap-2">
                  <Icon name="arrowDown" className="w-4 h-4 text-[#00d4ff]" />
                  Max Daily Loss
                </label>
                <input type="number" value={settings.max_daily_loss} onChange={(e) => setSettings({ ...settings, max_daily_loss: parseFloat(e.target.value) })} className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white font-mono" />
                <p className="text-xs text-[#a0aec0] mt-2">Maximum loss allowed per trading day</p>
              </div>
              <div>
                <label className="block text-sm font-medium text-white mb-3 flex items-center gap-2">
                  <Icon name="percent" className="w-4 h-4 text-[#00d4ff]" />
                  VaR Limit
                </label>
                <input type="number" step="0.01" value={settings.var_limit} onChange={(e) => setSettings({ ...settings, var_limit: parseFloat(e.target.value) })} className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white font-mono" />
                <p className="text-xs text-[#a0aec0] mt-2">Value at Risk limit (95% confidence)</p>
              </div>
              <div>
                <label className="block text-sm font-medium text-white mb-3 flex items-center gap-2">
                  <Icon name="alert" className="w-4 h-4 text-[#00d4ff]" />
                  Kill Switch
                </label>
                <div className="flex items-center gap-4">
                  <button onClick={() => setSettings({ ...settings, kill_switch_enabled: !settings.kill_switch_enabled })} className={`relative w-16 h-8 rounded-full transition-colors ${settings.kill_switch_enabled ? 'bg-[#00e676]' : 'bg-[#2d3748]'}`}>
                    <span className={`absolute top-1 w-6 h-6 bg-white rounded-full transition-transform ${settings.kill_switch_enabled ? 'translate-x-9' : 'translate-x-1'}`} />
                  </button>
                  <span className={`text-sm font-semibold ${settings.kill_switch_enabled ? 'text-[#00e676]' : 'text-[#a0aec0]'}`}>
                    {settings.kill_switch_enabled ? 'Enabled' : 'Disabled'}
                  </span>
                </div>
                <p className="text-xs text-[#a0aec0] mt-2">Automatically stop trading on risk breach</p>
              </div>
            </div>
            <div className="mt-8 flex items-center gap-4">
              <button onClick={handleSave} className="flex items-center gap-3 px-8 py-4 btn-primary text-white rounded-xl font-bold">
                <Icon name="save" className="w-5 h-5" />
                Save Settings
              </button>
              {saved && <span className="text-[#00e676] font-semibold flex items-center gap-2"><Icon name="check" className="w-5 h-5" /> Settings saved!</span>}
            </div>
          </div>
        </div>
      );
    };

    // Analytics Page
    const Analytics = () => {
      return (
        <div className="space-y-8 animate-slide-in">
          <div>
            <h1 className="text-3xl font-bold text-white mb-1">Analytics</h1>
            <p className="text-[#a0aec0]">Comprehensive trading performance analysis</p>
          </div>

          <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
            <div className="glass-card p-5 text-center">
              <Icon name="activity" className="w-6 h-6 text-[#00d4ff] mx-auto mb-3" />
              <p className="text-2xl font-bold text-[#00d4ff] font-mono">1.85</p>
              <p className="text-xs text-[#a0aec0] mt-1">Sharpe Ratio</p>
            </div>
            <div className="glass-card p-5 text-center">
              <Icon name="arrowDown" className="w-6 h-6 text-[#ff5252] mx-auto mb-3" />
              <p className="text-2xl font-bold text-[#ff5252] font-mono">-8.5%</p>
              <p className="text-xs text-[#a0aec0] mt-1">Max Drawdown</p>
            </div>
            <div className="glass-card p-5 text-center">
              <Icon name="target" className="w-6 h-6 text-[#00e676] mx-auto mb-3" />
              <p className="text-2xl font-bold text-[#00e676] font-mono">62.5%</p>
              <p className="text-xs text-[#a0aec0] mt-1">Win Rate</p>
            </div>
            <div className="glass-card p-5 text-center">
              <Icon name="chart" className="w-6 h-6 text-[#7c3aed] mx-auto mb-3" />
              <p className="text-2xl font-bold text-[#7c3aed] font-mono">1.75</p>
              <p className="text-xs text-[#a0aec0] mt-1">Profit Factor</p>
            </div>
            <div className="glass-card p-5 text-center">
              <Icon name="dollar" className="w-6 h-6 text-[#ffd740] mx-auto mb-3" />
              <p className="text-2xl font-bold text-[#ffd740] font-mono">$125</p>
              <p className="text-xs text-[#a0aec0] mt-1">Avg Trade</p>
            </div>
            <div className="glass-card p-5 text-center">
              <Icon name="trending" className="w-6 h-6 text-[#00d4ff] mx-auto mb-3" />
              <p className="text-2xl font-bold text-[#00d4ff] font-mono">156</p>
              <p className="text-xs text-[#a0aec0] mt-1">Total Trades</p>
            </div>
          </div>

          <div className="glass-card p-8">
            <h2 className="text-xl font-bold text-white mb-6">Monthly Performance</h2>
            <div className="overflow-x-auto">
              <table className="w-full">
                <thead>
                  <tr className="text-left text-xs text-[#a0aec0] border-b border-[#2d3748]">
                    <th className="px-4 py-4 font-semibold uppercase">Month</th>
                    <th className="px-4 py-4 font-semibold uppercase text-right">Trades</th>
                    <th className="px-4 py-4 font-semibold uppercase text-right">Wins</th>
                    <th className="px-4 py-4 font-semibold uppercase text-right">Losses</th>
                    <th className="px-4 py-4 font-semibold uppercase text-right">Win Rate</th>
                    <th className="px-4 py-4 font-semibold uppercase text-right">P&L</th>
                  </tr>
                </thead>
                <tbody>
                  {['January', 'February', 'March', 'April', 'May'].map((month, i) => {
                    const trades = 25 + i * 3;
                    const wins = 15 + i * 2;
                    const losses = trades - wins;
                    const winRate = ((wins / trades) * 100).toFixed(1);
                    const pnl = 2000 + i * 500;
                    return (
                      <tr key={month} className="border-b border-[#2d3748] last:border-0 hover:bg-white/5">
                        <td className="px-4 py-4 text-white font-semibold">{month} 2024</td>
                        <td className="px-4 py-4 text-right font-mono text-white">{trades}</td>
                        <td className="px-4 py-4 text-right font-mono text-[#00e676]">{wins}</td>
                        <td className="px-4 py-4 text-right font-mono text-[#ff5252]">{losses}</td>
                        <td className="px-4 py-4 text-right font-mono text-[#00d4ff]">{winRate}%</td>
                        <td className="px-4 py-4 text-right font-mono text-[#00e676]">+${pnl.toLocaleString()}</td>
                      </tr>
                    );
                  })}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      );
    };

    // Billing Page
    const Billing = () => {
      const plans = [
        { name: 'Free', price: 0, features: ['3 Strategies', '1,000 API calls/day', 'Basic backtesting'], icon: 'zap' },
        { name: 'Pro', price: 99, features: ['10 Strategies', '10,000 API calls/day', 'Priority support', 'Real-time data'], icon: 'crown', popular: true },
        { name: 'Enterprise', price: 299, features: ['Unlimited Strategies', '100,000 API calls/day', '24/7 support', 'AI insights'], icon: 'building' },
      ];

      return (
        <div className="space-y-8 animate-slide-in">
          <div>
            <h1 className="text-3xl font-bold text-white mb-1">Billing</h1>
            <p className="text-[#a0aec0]">Manage your subscription and billing</p>
          </div>

          <div className="glass-card p-8">
            <div className="flex items-center justify-between mb-8">
              <div className="flex items-center gap-5">
                <div className="w-16 h-16 rounded-xl btn-primary flex items-center justify-center animate-glow">
                  <Icon name="crown" className="w-8 h-8 text-white" />
                </div>
                <div>
                  <p className="text-sm text-[#a0aec0]">Current Plan</p>
                  <h2 className="text-3xl font-bold text-white">Enterprise</h2>
                  <p className="text-sm text-[#00d4ff]">Active Â· Renews Jan 2025</p>
                </div>
              </div>
              <button className="px-6 py-3 btn-primary text-white rounded-xl font-semibold">Upgrade Plan</button>
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
              <div>
                <div className="flex items-center justify-between mb-3">
                  <span className="text-sm text-[#a0aec0]">API Calls</span>
                  <span className="text-sm text-white font-mono">45,250 / 100,000</span>
                </div>
                <div className="h-3 bg-[#1a2035] rounded-full overflow-hidden">
                  <div className="h-full bg-gradient-to-r from-[#00d4ff] to-[#7c3aed] rounded-full" style={{ width: '45%' }} />
                </div>
              </div>
              <div>
                <div className="flex items-center justify-between mb-3">
                  <span className="text-sm text-[#a0aec0]">Strategies</span>
                  <span className="text-sm text-white font-mono">4 / 10</span>
                </div>
                <div className="h-3 bg-[#1a2035] rounded-full overflow-hidden">
                  <div className="h-full bg-gradient-to-r from-[#00e676] to-[#00d4ff] rounded-full" style={{ width: '40%' }} />
                </div>
              </div>
            </div>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
            {plans.map((plan) => (
              <div key={plan.name} className={`glass-card p-8 relative ${plan.popular ? 'border-[#00d4ff]/50' : ''}`}>
                {plan.popular && <span className="absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 btn-primary text-white text-xs font-bold rounded-full">Most Popular</span>}
                <div className="text-center mb-8">
                  <div className={`w-14 h-14 rounded-xl mx-auto mb-4 flex items-center justify-center ${plan.popular ? 'bg-[#00d4ff]/20 text-[#00d4ff]' : plan.name === 'Enterprise' ? 'bg-[#7c3aed]/20 text-[#7c3aed]' : 'bg-[#2d3748] text-[#a0aec0]'}`}>
                    <Icon name={plan.icon} className="w-7 h-7" />
                  </div>
                  <h3 className="text-2xl font-bold text-white mb-2">{plan.name}</h3>
                  <div className="mt-3">
                    <span className="text-4xl font-bold text-white">${plan.price}</span>
                    <span className="text-[#a0aec0]">/month</span>
                  </div>
                </div>
                <ul className="space-y-4 mb-8">
                  {plan.features.map((f) => (
                    <li key={f} className="flex items-center gap-3 text-sm text-[#a0aec0]">
                      <Icon name="check" className="w-5 h-5 text-[#00e676]" />
                      {f}
                    </li>
                  ))}
                </ul>
                <button className={`w-full py-4 rounded-xl font-bold ${plan.popular ? 'btn-primary text-white' : 'bg-[#1a2035] text-white hover:bg-[#2d3748]'}`}>
                  {plan.name === 'Enterprise' ? 'Current Plan' : 'Select Plan'}
                </button>
              </div>
            ))}
          </div>

          <div className="glass-card overflow-hidden">
            <div className="px-8 py-6 border-b border-[#2d3748]">
              <h2 className="text-xl font-bold text-white flex items-center gap-3">
                <Icon name="credit" className="w-6 h-6 text-[#00d4ff]" />
                Billing History
              </h2>
            </div>
            <div className="overflow-x-auto">
              <table className="w-full">
                <thead>
                  <tr className="text-left text-xs text-[#a0aec0] border-b border-[#2d3748]">
                    <th className="px-8 py-4 font-semibold uppercase">Invoice ID</th>
                    <th className="px-8 py-4 font-semibold uppercase">Date</th>
                    <th className="px-8 py-4 font-semibold uppercase text-right">Amount</th>
                    <th className="px-8 py-4 font-semibold uppercase text-center">Status</th>
                  </tr>
                </thead>
                <tbody>
                  <tr className="border-b border-[#2d3748] hover:bg-white/5">
                    <td className="px-8 py-4 font-mono text-white">INV-001</td>
                    <td className="px-8 py-4 text-[#a0aec0]">2024-02-01</td>
                    <td className="px-8 py-4 text-right font-mono text-white">$299.00</td>
                    <td className="px-8 py-4 text-center">
                      <span className="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold bg-[#00e676]/20 text-[#00e676]">
                        <Icon name="check" className="w-3 h-3" />
                        Paid
                      </span>
                    </td>
                  </tr>
                  <tr className="hover:bg-white/5">
                    <td className="px-8 py-4 font-mono text-white">INV-002</td>
                    <td className="px-8 py-4 text-[#a0aec0]">2024-01-01</td>
                    <td className="px-8 py-4 text-right font-mono text-white">$299.00</td>
                    <td className="px-8 py-4 text-center">
                      <span className="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold bg-[#00e676]/20 text-[#00e676]">
                        <Icon name="check" className="w-3 h-3" />
                        Paid
                      </span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      );
    };

    // Settings Page
    const Settings = () => {
      const { user } = useAuth();
      const [activeTab, setActiveTab] = useState('profile');
      const [saved, setSaved] = useState(false);

      const tabs = [
        { id: 'profile', label: 'Profile', icon: 'user' },
        { id: 'notifications', label: 'Notifications', icon: 'bell' },
        { id: 'security', label: 'Security', icon: 'shield' },
      ];

      const handleSave = () => {
        setSaved(true);
        setTimeout(() => setSaved(false), 3000);
      };

      return (
        <div className="space-y-8 animate-slide-in">
          <div>
            <h1 className="text-3xl font-bold text-white mb-1">Settings</h1>
            <p className="text-[#a0aec0]">Manage your account preferences</p>
          </div>

          <div className="flex flex-col lg:flex-row gap-8">
            <div className="lg:w-72 space-y-2">
              {tabs.map((tab) => (
                <button
                  key={tab.id}
                  onClick={() => setActiveTab(tab.id)}
                  className={`w-full flex items-center gap-4 px-5 py-4 rounded-xl transition-all ${
                    activeTab === tab.id
                      ? 'nav-active'
                      : 'text-[#a0aec0] hover:text-white hover:bg-white/5'
                  }`}
                >
                  <Icon name={tab.icon} className="w-5 h-5" />
                  <span className="font-semibold">{tab.label}</span>
                </button>
              ))}
            </div>

            <div className="flex-1">
              {activeTab === 'profile' && (
                <div className="glass-card p-8 space-y-8">
                  <h2 className="text-xl font-bold text-white flex items-center gap-3">
                    <Icon name="user" className="w-6 h-6 text-[#00d4ff]" />
                    Profile Information
                  </h2>
                  <div className="flex items-center gap-6 mb-8">
                    <div className="w-24 h-24 rounded-full btn-primary flex items-center justify-center">
                      <span className="text-3xl font-bold text-white">{user?.full_name?.split(' ').map(n => n[0]).join('')}</span>
                    </div>
                    <button className="px-5 py-2.5 bg-[#1a2035] text-white rounded-xl font-semibold hover:bg-[#2d3748] transition-colors">Change Avatar</button>
                  </div>
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                      <label className="block text-sm font-medium text-white mb-2">Full Name</label>
                      <input type="text" defaultValue={user?.full_name} className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white" />
                    </div>
                    <div>
                      <label className="block text-sm font-medium text-white mb-2">Email</label>
                      <input type="email" defaultValue={user?.email} className="w-full bg-[#1a2035] border border-[#2d3748] rounded-xl px-4 py-3.5 text-white" />
                    </div>
                  </div>
                </div>
              )}

              {activeTab === 'notifications' && (
                <div className="glass-card p-8">
                  <h2 className="text-xl font-bold text-white mb-6 flex items-center gap-3">
                    <Icon name="bell" className="w-6 h-6 text-[#00d4ff]" />
                    Notification Preferences
                  </h2>
                  <div className="space-y-4">
                    {['Email Alerts', 'Push Notifications', 'Trade Executions', 'Price Alerts'].map((item) => (
                      <div key={item} className="flex items-center justify-between p-5 rounded-xl bg-[#1a2035] border border-[#2d3748]">
                        <span className="text-white font-medium">{item}</span>
                        <button className="w-14 h-7 rounded-full bg-[#00d4ff]">
                          <span className="block w-5 h-5 bg-white rounded-full translate-x-8" />
                        </button>
                      </div>
                    ))}
                  </div>
                </div>
              )}

              {activeTab === 'security' && (
                <div className="glass-card p-8">
                  <h2 className="text-xl font-bold text-white mb-6 flex items-center gap-3">
                    <Icon name="shield" className="w-6 h-6 text-[#00d4ff]" />
                    Security Settings
                  </h2>
                  <div className="space-y-6">
                    <div className="flex items-center justify-between p-5 rounded-xl bg-[#1a2035] border border-[#2d3748]">
                      <div className="flex items-center gap-4">
                        <Icon name="lock" className="w-6 h-6 text-[#a0aec0]" />
                        <span className="text-white font-medium">Two-Factor Authentication</span>
                      </div>
                      <button className="w-14 h-7 rounded-full bg-[#2d3748]">
                        <span className="block w-5 h-5 bg-white rounded-full translate-x-1" />
                      </button>
                    </div>
                    <div className="p-5 rounded-xl bg-[#1a2035] border border-[#2d3748]">
                      <p className="text-white font-medium mb-4">Change Password</p>
                      <div className="space-y-3">
                        <input type="password" placeholder="Current password" className="w-full bg-[#0a0e1a] border border-[#2d3748] rounded-xl px-4 py-3 text-white" />
                        <input type="password" placeholder="New password" className="w-full bg-[#0a0e1a] border border-[#2d3748] rounded-xl px-4 py-3 text-white" />
                        <button className="px-5 py-2.5 bg-[#2d3748] text-white rounded-xl font-semibold hover:bg-[#3d4758]">Update Password</button>
                      </div>
                    </div>
                  </div>
                </div>
              )}

              <div className="mt-6 flex items-center gap-4">
                <button onClick={handleSave} className="flex items-center gap-3 px-8 py-4 btn-primary text-white rounded-xl font-bold">
                  <Icon name="save" className="w-5 h-5" />
                  Save Changes
                </button>
                {saved && <span className="text-[#00e676] font-semibold flex items-center gap-2"><Icon name="check" className="w-5 h-5" /> Settings saved!</span>}
              </div>
            </div>
          </div>
        </div>
      );
    };

    // Main App
    const App = () => {
      const { isAuthenticated } = useAuth();

      if (!isAuthenticated) {
        return <Login />;
      }

      return (
        <Layout>
          <Routes>
            <Route path="/" element={<Dashboard />} />
            <Route path="/trading" element={<Trading />} />
            <Route path="/strategies" element={<Strategies />} />
            <Route path="/backtest" element={<Backtest />} />
            <Route path="/risk" element={<Risk />} />
            <Route path="/analytics" element={<Analytics />} />
            <Route path="/billing" element={<Billing />} />
            <Route path="/settings" element={<Settings />} />
            <Route path="*" element={<Navigate to="/" replace />} />
          </Routes>
        </Layout>
      );
    };

    // Render
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(
      <AuthProvider>
        <BrowserRouter>
          <App />
        </BrowserRouter>
      </AuthProvider>
    );
  </script>
</body>
</html>
